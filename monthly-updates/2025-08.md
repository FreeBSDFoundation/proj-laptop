# FreeBSD Foundation Laptop Update - August 2025
NOTE: For more details on any item, please visit the GitHub links provided, these contain more detail and links to relevant materials such as code commits.

## Completed in August
### Power Management
#### Dependencies for Modern Standby (S0i3)
Many dependencies for Modern Standby (S0i3) have been committed into the FreeBSD kernel codebase. The majority of these are related to implementing the industry standard for advanced power management, ACPI (Advanced Configuration and Power Interface). 

GitHub issue: [#32](https://github.com/FreeBSDFoundation/proj-laptop/issues/32)

### Graphics
#### Port of Linux 6.9 Graphics Drivers
The [pull request](https://github.com/freebsd/drm-kmod/pull/361) to add support for Linux 6.9 graphics drivers to drm-kmod was merged into the drm-kmod main branch.

NOTE: The FreeBSD kernel changes to support Linux graphics drivers up to 6.9 are now available in main, however, the packages (from the drm-kmod port) are only available for LTS Linux versions (6.6 is the highest LTS), and users who would like to use a 6.7-6.9 driver need to compile it themselves.
 
GitHub issue: [#50](https://github.com/FreeBSDFoundation/proj-laptop/issues/50)

## Work in review this month
### Power Management
#### More dependencies for Modern Standby (S0i3)
Additional dependencies for Modern Standby (S0i3) are in review for addition into the FreeBSD kernel codebase. The majority of these are related to implementing parts of the industry standard for advanced power management, ACPI (Advanced Configuration and Power Interface).

GitHub issue: [#32](https://github.com/FreeBSDFoundation/proj-laptop/issues/32)

### Wi-Fi 
#### Updates to recently added drivers
Work to update the Wi-Fi drivers iwlwifi, mt76, rtw88, and rtw89 to LinuxKPI v6.16 is in review.

One of the updates requires a coordinated release of both the drm-kmod tag and ports update. Once that's completed, the changes can be integrated and the driver update can proceed. These changes will then follow the standard MFC (Merge from CURRENT) process to be backported to FreeBSD versions 15 and 14.

GitHub issue: [#86](https://github.com/FreeBSDFoundation/proj-laptop/issues/86)

#### Changes to support Wi-Fi 6 (802.11ax)

Work to prepare FreeBSDâ€™s wireless stack for Wi-Fi 6 (802.11ax) is in review. Internal structures and definitions for 802.11ax have been updated with correct values and moved from LinuxKPI into `net80211`, making them more widely available.  Some of these updates are now visible in `ifconfig`, which will aid debugging as initial Wi-Fi 6 support is brought up.

GitHub issue: [#34](https://github.com/FreeBSDFoundation/proj-laptop/issues/34) (see also subtask [#79](https://github.com/FreeBSDFoundation/proj-laptop/issues/79))

#### Suspend and resume for LinuxKPI-based Wi-Fi
Changes for the kernel are in review. Testing this locally is of limited value so the plan is to make the functionality available in main, disabled by default and users can enable it via a sysctl to test it. This makes it safe to commit before the code reviews are complete.

GitHub issue: [#58](https://github.com/FreeBSDFoundation/proj-laptop/issues/58)

#### Support for Non-Standard Audio Jacks, and Automatic Audio Switching

Work to improve audio device handling, especially those with non-standard pin arrangements on the audio jacks, is in review. 

The changes include: 

1) Porting virtual_oss to base. There is no reason not to have it in the base system as it has been working fine for years, and is the only sound server based on FreeBSD's native OSS that is widely used. This is a dependency for item 2.

2) Enable audio routing between sound devices in a system. This should enable automatically changing sound output across multiple PCM devices. You can help by testing the change (see issue #17).

GitHub issues: [#15](https://github.com/FreeBSDFoundation/proj-laptop/issues/15) and [#17](https://github.com/FreeBSDFoundation/proj-laptop/issues/17)

## Progress updates

### Power Management

#### Support for putting USB4 into low power states
A large update to add an HCM (host connection manager) for USB4 has been submitted for review. This change will mean that USB4 controllers can be put into a low power state which is necessary for modern standby state, S0i3. 

The code is due to be committed soon to allow for testing.

GitHub issue: [#61](https://github.com/FreeBSDFoundation/proj-laptop/issues/61)

#### Request for feedback on S4 (hibernate) design
A request for input has been opened for the solution design for the S4 (hibernate) power state.

Please aim to submit your input before September 30th 2025.

[S4 hibernate support for FreeBSD](https://lists.freebsd.org/archives/freebsd-arch/2025-August/001030.html)

#### Testing image for Modern Standby (S0i3)
A testing image for Modern Standby (S0i3) is in progress and should be available soon. Keep an eye on the CURRENT mailing list for more details.

[CURRENT Mailing list](https://lists.freebsd.org/archives/freebsd-current/)

#### Debugging tools for low power states
Progress is being made towards getting suitable debugging tools for developing low power states more effectively. We are seeking tools from processor manufacturers as well as continuing to pursue an XHCI debugging tool. 

GitHub issue: [#38](https://github.com/FreeBSDFoundation/proj-laptop/issues/38)

### Graphics
#### Port of Linux 6.10 Graphics Drivers
Almost all patches in this task have been ported from Linux to FreeBSD. There are a couple of tasks and regressions that still need to be completed.

The pull request for drm-kmod has been raised. 

GitHub issue: [#51](https://github.com/FreeBSDFoundation/proj-laptop/issues/51)

### Compatibility and System Requirements
#### KDE Desktop Installer Option
For FreeBSD 15.0, our goal is to extend the FreeBSD installer to offer a minimal KDE-based desktop as an install option.  The initial concept is a low-interaction installation process that, upon completion, brings the user directly to a KDE graphical login screen.

The functionality is complete, and is now being tested locally. It will be shared for testing soon on FreeBSD mailing lists. 

GitHub issue: [#25](https://github.com/FreeBSDFoundation/proj-laptop/issues/25)



#### Create tool for binary upgrades between major/minor versions using pkgbase 
This work has been paused as there is an actively progressing community effort to address the same goals.

GitHub issue: [#83](https://github.com/FreeBSDFoundation/proj-laptop/issues/83)

## Conclusion

We are making significant progress on the project goals, and the FreeBSD Foundation would like to exend its thanks everyone who has contributed.

Thanks go out to:
* Our developers
  * Alfonso Siciliano
  * Aymeric Wibo
  * Bjoern Zeeb
  * Christos Margiolis
  * Isaac Freund
  * Jean-Sebastien Pedron
  * Li-Wen Hsu
  * Mitchell Horne
  * Olivier Certner
  * Tom Jones
* The project team:
  * Deb Goodkin
  * Ed Maste
  * Joe Mingrone
  * Alice Sowerby
* The Laptop and Desktop Working Group
  * Chris Moerz
  * All attendees
* The FreeBSD Project
* Quantum Leap Research
* AMD, who have helped in troubleshooting sleep issues.
* Dell, who have donated the UVC kernel driver.
* Future Crew, who provided the iwx 
driver source code.
* Netflix, who have been testing our scheduler patchsets

Please refer to the [README](../README.md) for more information about the FreeBSD Foundation's Laptop Project.
